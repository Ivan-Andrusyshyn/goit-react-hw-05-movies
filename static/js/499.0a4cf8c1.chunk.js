"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[499],{27:function(e,t,n){n.d(t,{J:function(){return f},r:function(){return l}});var r=n(861),a=n(687),c=n.n(a),u=n(243),i=n(596),s="72a7646a40703400682c093b811827fe",o="https://api.themoviedb.org/3/",l=function(){var e=(0,r.Z)(c().mark((function e(t,n,r){var a,l,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n(!0),t){e.next=4;break}return e.abrupt("return");case 4:return a="".concat(o,"search/movie?query=").concat(t,"&include_adult=false&api_key=").concat(s),e.next=7,(0,u.Z)(a).then((function(e){return e.data}));case 7:l=e.sent,0===(f=l.results).length&&i.Am.error("Please try again !"),setTimeout((function(){r(f)}),1e3),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:return e.prev=16,setTimeout((function(){n(!1)}),1e3),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(o,"trending/movie/day?api_key=").concat(s,"&language=en-US&&page=1"),e.next=3,(0,u.Z)(n).then((function(e){return e.data}));case 3:r=e.sent,a=r.results,t(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},499:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(439),a=n(791),c=(n(26),n(218)),u=n(87),i=n(689),s=n(184),o=function(e){var t=e.value,n=e.onSubmit,c=(0,a.useState)(t),u=(0,r.Z)(c,2),i=u[0],o=u[1];return(0,s.jsxs)("form",{className:"form_movies",onSubmit:function(e){e.preventDefault(),""!==i.trim()&&n(i)},children:[(0,s.jsx)("input",{type:"text",placeholder:"Search movie",required:!0,value:null!==i&&void 0!==i?i:"",onChange:function(e){o(e.currentTarget.value)}}),(0,s.jsx)("button",{type:"submit",children:"Search"})]})},l=n(596),f=n(27),m=function(){var e=(0,a.useState)([]),t=(0,r.Z)(e,2),n=t[0],m=t[1],p=(0,a.useState)(!1),h=(0,r.Z)(p,2),v=h[0],d=h[1],x=(0,u.lr)(),g=(0,r.Z)(x,2),b=g[0],j=g[1],k=(0,i.TH)(),_=b.get("query");(0,a.useEffect)((function(){(0,f.r)(_,d,m)}),[_]);return(0,s.jsxs)("div",{className:"container-search",children:[(0,s.jsx)(o,{value:_,onSubmit:function(e){e!==_&&(j({query:e}),m([]))}}),(0,s.jsx)(l.Ix,{}),(0,s.jsx)("ul",{className:"movie_list",children:v?(0,s.jsx)(c.a,{}):n.map((function(e){var t=e.id,n=e.original_title,r=e.poster_path;return(0,s.jsx)("li",{children:(0,s.jsx)(u.rU,{to:"".concat(t),state:{from:k},className:"custom-link",children:(0,s.jsxs)("div",{className:"movie_list_item",children:[(0,s.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w342").concat(r),alt:""}),(0,s.jsx)("p",{children:n})]})})},t)}))})]})}}}]);
//# sourceMappingURL=499.0a4cf8c1.chunk.js.map